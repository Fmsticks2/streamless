{"version":3,"file":"arguments.js","sourceRoot":"","sources":["../../src/arguments.ts"],"names":[],"mappings":"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","sourcesContent":["import { ISerializable } from './interfaces/ISerializable'\nimport * as ser from './serializers'\n\n/**\n * Typed Arguments facilitating the differentiation\n * between different argument types due to Javascript's\n * single number type.\n *\n * @remarks In AssemblyScript the latter are all native types\n */\nexport enum ArgTypes {\n  STRING,\n  BOOL,\n  U8,\n  U32,\n  U64,\n  I128,\n  U128,\n  U256,\n  I32,\n  I64,\n  F32,\n  F64,\n  ARRAY,\n  UINT8ARRAY,\n  SERIALIZABLE,\n  SERIALIZABLE_OBJECT_ARRAY,\n}\n\nexport enum ArrayTypes {\n  STRING,\n  BOOL,\n  U8,\n  U32,\n  U64,\n  I128,\n  U128,\n  U256,\n  I32,\n  I64,\n  F32,\n  F64,\n}\n\nexport interface IParam {\n  type: ArgTypes\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  value: any\n}\n\n/**\n * Native types in AssemblyScript\n *\n * @remarks\n * These are the types that can be used in AssemblyScript\n */\nexport type NativeType = string | boolean | number | bigint\n\n/**\n * Storage and serialization class for remote function call arguments.\n *\n * @remarks\n * This class can serialize typescript native types into bytes, in order to\n * make smart-contract function call easier.\n * It also can deserialize bytes.\n *\n */\nexport class Args {\n  private offset = 0\n  private serialized: Uint8Array\n  private argsList: Array<IParam> = []\n\n  /**\n   * Constructor to either serialize or deserialize data passed from/to DApps and remote Smart contracts.\n   *\n   * @param serialized - The optional serialized arguments to deserialize.\n   * @param offset - The optional offset to start deserializing from.\n   */\n  constructor(serialized: Array<number> | Uint8Array = [], offset = 0) {\n    this.serialized = Uint8Array.from(serialized)\n    this.offset = offset\n  }\n\n  public getArgsList(): Array<IParam> {\n    return this.argsList\n  }\n\n  /**\n   * Returns the current deserialization offset of the serialized byte array.\n   *\n   * @returns the current offset\n   */\n  public getOffset(): number {\n    return this.offset\n  }\n\n  /**\n   * Returns the serialized byte array.\n   *\n   * @returns A byte array.\n   */\n  public serialize(): Array<number> {\n    return Array.from(this.serialized)\n  }\n\n  // Getters\n\n  /**\n   * Returns the next string in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized string\n   */\n  public nextString(): string {\n    const length = this.nextU32()\n    const end = this.offset + length\n    const result = ser.bytesToStr(this.serialized.slice(this.offset, end))\n\n    this.offset = end\n    return result\n  }\n\n  /**\n   * Returns the next unsigned byte in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized number.\n   */\n  public nextU8(): bigint {\n    const value = ser.byteToU8(this.serialized, this.offset)\n\n    this.offset++\n    return BigInt(value)\n  }\n\n  /**\n   * Returns the next unsigned integer in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized number\n   */\n  public nextU32(): number {\n    const value = ser.bytesToU32(this.serialized, this.offset)\n\n    this.offset += 4\n    return value\n  }\n\n  /**\n   * Returns the next long integer in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized number.\n   */\n  public nextU64(): bigint {\n    const value = ser.bytesToU64(this.serialized, this.offset)\n\n    this.offset += 8\n    return value\n  }\n\n  /**\n   * Returns the next int128 in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized number.\n   */\n  public nextI128(): bigint {\n    const value = ser.bytesToI128(this.serialized, this.offset)\n\n    this.offset += 16\n    return value\n  }\n\n  /**\n   * Returns the next uint128 in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized number.\n   */\n  public nextU128(): bigint {\n    const value = ser.bytesToU128(this.serialized, this.offset)\n\n    this.offset += 16\n    return value\n  }\n\n  /**\n   * Returns the next uint256 in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized number.\n   */\n  public nextU256(): bigint {\n    const value = ser.bytesToU256(this.serialized, this.offset)\n\n    this.offset += 32\n    return value\n  }\n\n  /**\n   * Returns the next boolean in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized boolean.\n   */\n  nextBool(): boolean {\n    return !!this.serialized[this.offset++]\n  }\n\n  /**\n   * Returns the next signed integer in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized number.\n   */\n  public nextI32(): number {\n    const value = ser.bytesToI32(this.serialized, this.offset)\n\n    this.offset += 4\n    return value\n  }\n\n  /**\n   * Returns the next signed long integer in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized number.\n   */\n  public nextI64(): bigint {\n    const value = ser.bytesToI64(this.serialized, this.offset)\n\n    this.offset += 8\n    return BigInt(value)\n  }\n\n  /**\n   * Returns the next floating number in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized number.\n   */\n  public nextF32(): number {\n    const value = ser.bytesToF32(this.serialized, this.offset)\n\n    this.offset += 4\n    return value\n  }\n\n  /**\n   * Returns the next long floating number in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized number.\n   */\n  public nextF64(): number {\n    const value = ser.bytesToF64(this.serialized, this.offset)\n\n    this.offset += 8\n    return value\n  }\n\n  /**\n   * Returns the next sub byte array in the serialized byte array.\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @returns the deserialized byte array.\n   */\n  public nextUint8Array(): Uint8Array {\n    const length = this.nextU32()\n    const byteArray = this.serialized.slice(this.offset, this.offset + length)\n\n    this.offset += length\n    return byteArray\n  }\n\n  /**\n   * Returns the next {@link ISerializable} object in the serialized byte array\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @param ctor - the class constructor prototype T.prototype\n   *\n   * @returns the deserialized object T\n   */\n  public nextSerializable<T extends ISerializable<T>>(ctor: new () => T): T {\n    let deserializationResult = ser.deserializeObj(\n      this.serialized,\n      this.offset,\n      ctor\n    )\n    this.offset = deserializationResult.offset\n    return deserializationResult.instance\n  }\n\n  /**\n   * Returns the next array of {@link ISerializable} objects in the serialized byte array\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @param ctor - the class constructor prototype T.prototype\n   *\n   * @returns the deserialized array of object that implement ISerializable\n   */\n  public nextSerializableObjectArray<T extends ISerializable<T>>(\n    ctor: new () => T\n  ): T[] {\n    const length = this.nextU32()\n\n    if (!length) {\n      return []\n    }\n\n    if (this.offset + length > this.serialized.length) {\n      throw new Error(\"can't deserialize length of array from given argument\")\n    }\n\n    const buffer = this.getNextData(length)\n\n    const value = ser.bytesToSerializableObjectArray<T>(buffer, ctor)\n    this.offset += length\n    return value\n  }\n\n  /**\n   * Returns the next array of {@link ArgTypes} objects in the serialized byte array\n   *\n   * @remarks\n   * Increments to offset to point the data after the one that as been deserialized in the byte array.\n   *\n   * @param type - the type of the elements in the array.\n   *\n   * @returns the next array of object that are native type\n   */\n  nextArray<T>(type: ArrayTypes): T[] {\n    const length = this.nextU32()\n\n    if (!length) {\n      return []\n    }\n\n    if (this.offset + length > this.serialized.length) {\n      throw new Error(\"can't deserialize length of array from given argument\")\n    }\n\n    const buffer = this.getNextData(length)\n    const value = ser.bytesToArray<T>(buffer, type)\n    this.offset += length\n    return value\n  }\n\n  // Setter\n\n  /**\n   * Adds a unsigned byte to the serialized arguments.\n   *\n   * @param value - the number to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addU8(value: number): this {\n    this.serialized = Args.concatArrays(this.serialized, ser.u8toByte(value))\n    this.offset++\n    this.argsList.push({ type: ArgTypes.U8, value: value })\n    return this\n  }\n\n  /**\n   * Adds a boolean to the serialized arguments.\n   *\n   * @param value - the boolean to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addBool(value: boolean): this {\n    this.serialized = Args.concatArrays(\n      this.serialized,\n      ser.u8toByte(value ? 1 : 0)\n    )\n    this.offset++\n    this.argsList.push({ type: ArgTypes.BOOL, value: value })\n    return this\n  }\n\n  /**\n   * Adds an unsigned integer to the serialized arguments.\n   *\n   * @param value - the number to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addU32(value: number): this {\n    this.serialized = Args.concatArrays(this.serialized, ser.u32ToBytes(value))\n    this.offset += 4\n    this.argsList.push({ type: ArgTypes.U32, value: value })\n    return this\n  }\n\n  /**\n   * Adds an unsigned long integer to the serialized arguments.\n   *\n   * @param value - the number to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addU64(bigInt: bigint): this {\n    this.serialized = Args.concatArrays(this.serialized, ser.u64ToBytes(bigInt))\n\n    this.offset += 8\n    this.argsList.push({ type: ArgTypes.U64, value: bigInt })\n    return this\n  }\n\n  /**\n   * Adds a signed long integer to the serialized arguments.\n   *\n   * @param value - the number to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addI128(bigInt: bigint): this {\n    this.serialized = Args.concatArrays(\n      this.serialized,\n      ser.i128ToBytes(bigInt)\n    )\n\n    this.offset += 16\n    this.argsList.push({ type: ArgTypes.I128, value: bigInt })\n    return this\n  }\n\n  /**\n   * Adds an unsigned long integer to the serialized arguments.\n   *\n   * @param value - the number to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addU128(bigInt: bigint): this {\n    this.serialized = Args.concatArrays(\n      this.serialized,\n      ser.u128ToBytes(bigInt)\n    )\n\n    this.offset += 16\n    this.argsList.push({ type: ArgTypes.U128, value: bigInt })\n    return this\n  }\n\n  /**\n   * Adds an unsigned long integer to the serialized arguments.\n   *\n   * @param value - the number to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addU256(bigInt: bigint): this {\n    this.serialized = Args.concatArrays(\n      this.serialized,\n      ser.u256ToBytes(bigInt)\n    )\n\n    this.offset += 32\n    this.argsList.push({ type: ArgTypes.U256, value: bigInt })\n    return this\n  }\n\n  /**\n   * Adds a signed integer to the serialized arguments.\n   *\n   * @param value - the number to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addI32(value: number): this {\n    this.serialized = Args.concatArrays(this.serialized, ser.i32ToBytes(value))\n    this.offset += 4\n    this.argsList.push({ type: ArgTypes.I32, value: value })\n    return this\n  }\n\n  /**\n   * Adds a signed long integer to the serialized arguments.\n   *\n   * @param value - the number to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addI64(bigInt: bigint): this {\n    this.serialized = Args.concatArrays(this.serialized, ser.i64ToBytes(bigInt))\n    this.offset += 8\n    this.argsList.push({ type: ArgTypes.I64, value: bigInt })\n    return this\n  }\n\n  /**\n   * Adds a floating number to the serialized arguments.\n   *\n   * @param value - the number to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addF32(value: number): this {\n    this.serialized = Args.concatArrays(this.serialized, ser.f32ToBytes(value))\n    this.offset += 4\n    this.argsList.push({ type: ArgTypes.F32, value: value })\n    return this\n  }\n\n  /**\n   * Adds a long floating number to the serialized arguments.\n   *\n   * @param value - the number to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addF64(value: number): this {\n    this.serialized = Args.concatArrays(this.serialized, ser.f64ToBytes(value))\n    this.offset += 8\n    this.argsList.push({ type: ArgTypes.F64, value: value })\n    return this\n  }\n\n  /**\n   * Adds a byte array integer to the serialized arguments.\n   *\n   * @param array - the array to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addUint8Array(array: Uint8Array): this {\n    this.addU32(array.length)\n    this.serialized = Args.concatArrays(this.serialized, array)\n    this.offset += array.length\n    // Remove the U32 from the argsList\n    this.argsList.pop()\n    this.argsList.push({ type: ArgTypes.UINT8ARRAY, value: array })\n    return this\n  }\n\n  /**\n   * Adds a string to the serialized arguments.\n   *\n   * @remarks\n   * Works only if the argument is an instance of a handled type (String of 4294967295 characters maximum)\n   *\n   * @param value - the number to add.\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addString(value: string): this {\n    const maxSize = 4294967295\n    const size = value.length\n\n    if (size > maxSize) {\n      // eslint-disable-next-line no-console\n      console.warn('input string is too long, it will be truncated')\n      value = value.slice(0, maxSize)\n    }\n\n    const serialized = ser.strToBytes(value)\n    this.addU32(serialized.length)\n    this.serialized = Args.concatArrays(this.serialized, ser.strToBytes(value))\n    this.offset += ser.strToBytes(value).length\n\n    // Remove the U32 from the argsList\n    this.argsList.pop()\n    this.argsList.push({ type: ArgTypes.STRING, value: value })\n\n    return this\n  }\n\n  /**\n   * Adds a serializable object to the serialized arguments.\n   *\n   * @remarks\n   * The object must implement the {@link ISerializable} interface\n   *\n   * @see {@link ISerializable}\n   *\n   * @param value - the object to add\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addSerializable<T>(value: ISerializable<T>): this {\n    const serializedValue = value.serialize()\n    this.serialized = Args.concatArrays(this.serialized, serializedValue)\n    this.offset += serializedValue.length\n    this.argsList.push({ type: ArgTypes.SERIALIZABLE, value: value })\n    return this\n  }\n\n  /**\n   * Adds an array of serializable objects to the serialized arguments.\n   *\n   * @remarks\n   * Each object must implement the {@link ISerializable} interface.\n   * This will perform a deep copy of your objects thanks to the {@link ISerializable.serialize}\n   * method you define in your class.\n   *\n   * @see {@link ISerializable}\n   *\n   * @param arg - the argument to add\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  public addSerializableObjectArray<T extends ISerializable<T>>(\n    arg: T[]\n  ): this {\n    const content: Uint8Array = ser.serializableObjectsArrayToBytes(arg)\n    this.addU32(content.length)\n    this.serialized = Args.concatArrays(this.serialized, content)\n    this.offset += content.length\n\n    // Remove the U32 from the argsList\n    this.argsList.pop()\n    this.argsList.push({\n      type: ArgTypes.SERIALIZABLE_OBJECT_ARRAY,\n      value: arg,\n    })\n    return this\n  }\n\n  /**\n   * Adds an array of objects to the serialized arguments.\n   *\n   * @remarks\n   * If the type of the values of the array is not native type, this will serialize the pointers, which is certainly\n   * not what you want! You can only serialize properly array of native types or array of `Serializable` object.\n   *\n   * @see {@link addSerializableObjectArray}\n   *\n   * @param arg - the argument to add\n   *\n   * @returns the serialized arguments to be able to chain `add` method calls.\n   */\n  addArray(arg: NativeType[], type: ArrayTypes): this {\n    const content = ser.arrayToBytes(arg, type)\n    this.addU32(content.length)\n    this.serialized = Args.concatArrays(this.serialized, content)\n    this.offset += content.length\n\n    // Remove the U32 from the argsList\n    this.argsList.pop()\n    this.argsList.push({ type: ArgTypes.ARRAY, value: arg })\n    return this\n  }\n\n  // Utils\n\n  /**\n   * Internal function to concat to Uint8Array.\n   *\n   * @param a - first array to concat\n   * @param b - second array to concat\n   *\n   * @returns the concatenated array\n   */\n  static concatArrays(a: Uint8Array, b: Uint8Array): Uint8Array {\n    return new Uint8Array([...a, ...b])\n  }\n\n  /**\n   * Returns the data of requested size for current offset\n   *\n   * @param size - The data size\n   * @returns the slice of the serialized internal buffer\n   */\n  private getNextData(size: number): Uint8Array {\n    return this.serialized.slice(this.offset, this.offset + size)\n  }\n}\n"]}