{"version":3,"file":"signed.js","sourceRoot":"","sources":["../../../../src/utils/encode_decode_int/signed.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,QAAQ,MAAM,YAAY,CAAC;AAEvC;;;;;GAKG;AACH,MAAM,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AACxB,MAAM,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AAExB;;;;;;;;;;GAUG;AACH,MAAM,UAAU,cAAc,CAAC,KAAa;IAC1C,OAAO,QAAQ,CAAC,cAAc,CAC5B,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,KAAK,GAAG,KAAK,CACpD,CAAC;AACJ,CAAC;AAED;;;;;;;;GAQG;AACH,MAAM,UAAU,MAAM,CACpB,KAAa,EACb,MAAoB,EACpB,UAAmB;IAEnB,KAAK,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;IAC5D,OAAO,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;AACpD,CAAC;AAED;;;;;;;GAOG;AACH,MAAM,UAAU,MAAM,CAAC,IAAgB,EAAE,MAAM,GAAG,CAAC;IACjD,MAAM,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAC5C,OAAO,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;AAClE,CAAC","sourcesContent":["import * as unsigned from './unsigned';\n\n/**\n * @module Signed\n *\n * This module provides functions to encode and decode signed\n * integers using Varint, which is a compact binary representation of integers.\n */\nconst oneBI = BigInt(1);\nconst twoBI = BigInt(2);\n\n/**\n * Returns the number of bytes required to store the number.\n *\n * @privateRemarks\n * If the `value` is positive, it will be encoded as a positive value by multiplying it by 2.\n * If the `value` is negative, it will be encoded as a negative value by multiplying it by -2 and subtracting 1.\n *\n * @param value - The number to encode.\n *\n * @returns The number of bytes required to store the number.\n */\nexport function encodingLength(value: bigint): number {\n  return unsigned.encodingLength(\n    value >= 0 ? value * twoBI : value * -twoBI - oneBI,\n  );\n}\n\n/**\n * Encodes the given value into the given buffer at the given byteOffset.\n *\n * @param value - The value to encode.\n * @param buffer - The buffer to encode into (optional).\n * @param byteOffset - The byte offset to start encoding at (optional).\n *\n * @returns A buffer with the encoded value.\n */\nexport function encode(\n  value: bigint,\n  buffer?: ArrayBuffer,\n  byteOffset?: number,\n): ArrayBuffer {\n  value = value >= 0 ? value * twoBI : value * -twoBI - oneBI;\n  return unsigned.encode(value, buffer, byteOffset);\n}\n\n/**\n * Decodes the given data at the given byteOffset.\n *\n * @param data - The data to decode.\n * @param offset - The byte offset to start decoding at (Default: 0).\n *\n * @returns The decoded value.\n */\nexport function decode(data: Uint8Array, offset = 0): bigint {\n  const value = unsigned.decode(data, offset);\n  return value & oneBI ? (value + oneBI) / -twoBI : value / twoBI;\n}\n"]}